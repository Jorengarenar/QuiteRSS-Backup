#!/bin/bash

case $1 in
'')
    command tar -czf ./quiterss-backup_$(command date '+%F_%R').tar.gz -C $HOME .config/QuiteRss/ .local/share/QuiteRss/
    ;;
"-b"|"--backup-no-date")
    command tar -czf ./quiterss-backup.tar.gz -C $HOME .config/QuiteRss/ .local/share/QuiteRss/
    ;;
"-c"|"--custom-name")
    command tar -czf "./$2.tar.gz" -C $HOME .config/QuiteRss/ .local/share/QuiteRss/
    ;;
"-r"|"--restore")
    if [ -z "$2" ]; then
        if [ -e ./quiterss-backup.tar.gz ]; then
            command tar -xzf ./quiterss-backup.tar.gz -C $HOME
        else
            echo "Please provide the path to backup file"
        fi
    else
        if [ -e $2 ]; then
            command tar -xzf $2 -C $HOME
        else
            echo " $2  - file doesn't exist"
        fi
    fi
    ;;
*)
    echo " $1 - no such option"
    ;;
esac
